<div class="container-fluid">
    <div class="row">
        <div class="col-sm-12">
            <div class="card">


                <dx-data-grid
                        (onRowClick)="rowClick($event)"
                        [showBorders]="true"
                        [dataSource]="source"
                        [rtlEnabled]="lang"
                        [showRowLines]="true"
                        [columnAutoWidth]="true"
                        (onSelectionChanged)="selectRow($event)"
                        [(selectedRowKeys)]="selectedRows"
                        [remoteOperations]="{filtering: true,sorting:true}">


                    <dxo-paging [enabled]="true" [pageSize]="10"></dxo-paging>
                    <dxo-header-filter [visible]="true"></dxo-header-filter>
                    <dxo-search-panel [visible]="true"></dxo-search-panel>
                    <dxo-selection [selectAllMode]="'allPages'"
                                   [showCheckBoxesMode]="'always'" allowSelectAll="true"
                                   mode="multiple"></dxo-selection>
                    <dxo-group-panel [visible]="false"></dxo-group-panel>
                    <dxo-grouping [autoExpandAll]="false" expandMode="buttonClick"></dxo-grouping>
                    <dxo-editing
                            mode="form"
                            [allowAdding]="false"
                            [allowUpdating]="true"
                            [useIcons]="true"
                            [allowDeleting]="true">
                    </dxo-editing>
                    <dxi-column dataField="code" [caption]="'Code'|translate"
                                [formItem]="{visible: false}"></dxi-column>
                    <dxi-column dataField="nameAr" [caption]="'Name Ar'|translate"></dxi-column>
                    <dxi-column dataField="unitNameAr" [caption]="'Unit'|translate"></dxi-column>
                    <dxi-column dataField="size" [caption]="'Size'|translate"></dxi-column>
                    <dxi-column dataField="rankingCode" groupIndex="0" groupCellTemplate="rankingTemplate"
                                [caption]="'Ranking'|translate" [formItem]="{visible: false}"></dxi-column>
                    <dxi-column dataField="materialCode" groupIndex="1" groupCellTemplate="materialTemplate"
                                [caption]="'Material'|translate" [formItem]="{visible: false}"></dxi-column>
                    <div *dxTemplate="let ranking of 'rankingTemplate'">
                        <dx-check-box [value]="getSelectValue(ranking.value)" id="ranking-{{ranking.value}}"></dx-check-box>
                        {{ranking.value}}
                    </div>
                    <div *dxTemplate="let material of 'materialTemplate'">
                        <dx-check-box [value]="getSelectValue(material.value)" id="material-{{material.value}}"></dx-check-box>
                        {{material.value}}
                    </div>
                </dx-data-grid>
            </div>
        </div>
    </div>
</div>
